@model Kheech.Web.ViewModels.FriendsIndexViewModel
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="@Url.RouteUrl("HomePage")">Home</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">Friends</li>
    </ol>
</nav>

<div class="container">
    <div class="row">
        <div class="col-8 table-bordered">
            <h4 class="m-3">Get to know about your friends<sup><small>@Model.FriendsCount friends</small></sup></h4>

            <ul class="list-group list-unstyled list-group-flush col-sm-12">
                @foreach (var friend in Model.FriendViewModels)
                {
                    <li class="list-group-item">
                        <a href="@Url.RouteUrl("FriendsDetail", new { friendId = friend.Id})">@friend.Name</a>
                    </li>
                }
            </ul>
        </div>

        <div class="col-4">
            <input type="email" class="form-control mt-3 col-sm-12" id="Email" name="Email" placeholder="name@example.com">
            <button class="offset-sm-6 col-sm-6" id="inviteEmail" type="submit">Add a friend</button>
        </div>
    </div>
</div>
@section scripts
{
    @Scripts.Render("~/bundles/vendor")
    <script>
        $("#inviteEmail").click(function () {
            $.ajax({
                method: 'post',
                url: '@Url.RouteUrl("InviteAFriendAjax")',
                data: {
                    Email: $('#Email').val()
                },
                success: function (data) {
                    toastr.success(data.message);
                console.log(data);
                },
                error: function () {
                console.warn('Unable to send invite');
                }
            });
        });
    </script>
}


